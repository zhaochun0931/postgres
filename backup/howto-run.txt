docker compose up









# ssh into the pg-client container and input a million of data


docker exec -it pg-client bash

psql -h postgres -U admin -d testdb


CREATE TABLE IF NOT EXISTS test (
          id SERIAL PRIMARY KEY,
          name TEXT,
          created_at TIMESTAMP DEFAULT NOW()
        );



INSERT INTO test (name) SELECT 'user_' || generate_series(1, 1000000);










docker exec -it pg-server bash


psql -h localhost -U admin -d testdb





# backup the database

docker exec -it pg-server bash

su - postgres
cd data
pg_dump -Fc -U admin -d testdb -f backup_file.dump



