# install
sudo apt install -y postgresql-common
sudo /usr/share/postgresql-common/pgdg/apt.postgresql.org.sh
sudo apt -y install postgresql




# verify
systemctl status postgresql.service
psql --version
dpkg -l | grep postgresql
pg_lsclusters



# pg_lsclusters
Ver Cluster Port Status Owner    Data directory              Log file
17  main    5432 online postgres /var/lib/postgresql/17/main /var/log/postgresql/postgresql-17-main.log
#



pg_ctlcluster 17 main start
pg_ctlcluster 17 main stop





/etc/postgresql/17/main

├── conf.d
├── environment
├── pg_ctl.conf
├── pg_hba.conf
├── pg_ident.conf
├── postgresql.conf
└── start.conf




/usr/lib/postgresql/16/bin/initdb







apt install postgresql-filedump















After installing PostgreSQL, there is no default password set for the postgres user.  You should set a password for the postgres user.

ALTER USER postgres PASSWORD 'newpassword';






/etc/postgresql/12/main/postgresql.conf

/var/log/postgresql/postgresql-12-main.log













# initialize the postgres cluster

mkdir /data1
chown -R postgres:postgres /data1
/usr/lib/postgresql/16/bin/initdb -D /data1
/usr/lib/postgresql/16/bin/pg_ctl -D /data1 -l logfile start











# uninstall
systemctl stop postgresql
apt remove --purge postgresql postgresql-* -y
rm -rf /etc/postgresql /var/lib/postgresql /var/log/postgresql
apt autoremove -y
apt autoclean
