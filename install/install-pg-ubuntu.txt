# install
sudo apt install -y postgresql-common
sudo /usr/share/postgresql-common/pgdg/apt.postgresql.org.sh
sudo apt -y install postgresql




# verify
systemctl status postgresql.service
psql --version
dpkg -l | grep postgresql
pg_lsclusters



# pg_lsclusters
Ver Cluster Port Status Owner    Data directory              Log file
17  main    5432 online postgres /var/lib/postgresql/17/main /var/log/postgresql/postgresql-17-main.log
#



pg_ctlcluster 17 main start
pg_ctlcluster 17 main stop





/etc/postgresql/17/main

$ ls -al /etc/postgresql/17/main
total 68
drwxr-xr-x 3 postgres postgres  4096 Aug 21 17:03 .
drwxr-xr-x 3 postgres postgres  4096 Aug 21 17:03 ..
drwxr-xr-x 2 postgres postgres  4096 Aug 21 17:03 conf.d
-rw-r--r-- 1 postgres postgres   315 Aug 21 17:03 environment
-rw-r--r-- 1 postgres postgres   143 Aug 21 17:03 pg_ctl.conf
-rw-r----- 1 postgres postgres  5924 Aug 21 17:03 pg_hba.conf
-rw-r----- 1 postgres postgres  2640 Aug 21 17:03 pg_ident.conf
-rw-r--r-- 1 postgres postgres 30963 Aug 21 17:03 postgresql.conf
-rw-r--r-- 1 postgres postgres   317 Aug 21 17:03 start.conf
$



/usr/lib/postgresql/16/bin/initdb







apt install postgresql-filedump















After installing PostgreSQL, there is no default password set for the postgres user.  You should set a password for the postgres user.

ALTER USER postgres PASSWORD 'newpassword';






/etc/postgresql/12/main/postgresql.conf

/var/log/postgresql/postgresql-12-main.log













# initialize the postgres cluster

mkdir /data1
chown -R postgres:postgres /data1
/usr/lib/postgresql/16/bin/initdb -D /data1
/usr/lib/postgresql/16/bin/pg_ctl -D /data1 -l logfile start











# uninstall
systemctl stop postgresql
apt remove --purge postgresql postgresql-* -y
rm -rf /etc/postgresql /var/lib/postgresql /var/log/postgresql
apt autoremove -y
apt autoclean
